{"version":3,"sources":["webpack:///./src/components/Divider.vue","webpack:///./src/components/Divider.vue?7bb5","webpack:///./src/views/Validator.vue","webpack:///./src/views/Validator.vue?ab3e","webpack:///./node_modules/core-js/modules/es.json.stringify.js"],"names":["class","style","side","title","name","props","String","__exports__","render","id","xmlns","fill","viewBox","cx","cy","r","stroke","stroke-width","d","validatorData","appear","validator","totalDelegated","apr","type","height","options","chart","chartOptions","series","delegators","length","delegator","index","key","prettify","amount","toFixed","toPercent","loadedData","mixins","openswap","components","Divider","apexchart","data","address","this","$route","params","group","sparkline","enabled","dropShadow","top","left","blur","opacity","curve","markers","size","colors","dataLabels","grid","padding","bottom","xaxis","categories","crosshairs","width","tooltip","theme","custom","seriesIndex","dataPointIndex","w","globals","categoryLabels","mounted","getValidatorData","methods","number","utils","commify","formatToMillion","string","parsed","toLocaleString","useGrouping","match","total","result","value","requestOptions","method","headers","body","JSON","stringify","fetch","response","json","delegations","filter","sort","a","b","reverse","lifetime","epochs","map","i","epoch","parseFloat","$","global","getBuiltIn","apply","uncurryThis","fails","Array","$stringify","exec","charAt","charCodeAt","replace","numberToString","toString","tester","low","hi","fix","offset","prev","next","FORCED","target","stat","forced","it","replacer","space","l","arguments","args"],"mappings":"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","file":"js/chunk-0dc0722d.81593a51.js","sourcesContent":["<template>\n  <div :class=\"side == 'right' ? 'flex-row-reverse' : ''\" class=\"flex items-center\">\n    <div :class=\"side == 'right' ? 'pl-3' : 'pr-3' \" class=\"flex flex-none\">{{title}}</div>\n    <div class=\"flex w-full bg-gray-300 dark:bg-slightDark\" style=\"height: 1px;\" />\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'Divider',\n    props: {\n      title: String,\n      side: String\n    }\n  }\n</script>","import { render } from \"./Divider.vue?vue&type=template&id=3779d91a\"\nimport script from \"./Divider.vue?vue&type=script&lang=js\"\nexport * from \"./Divider.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/alex/dev/openswap-v2-app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div id=\"farm\" class=\"max-w-screen-xl mx-auto flex flex-1 flex-col oswap-layout xl:px-0 px-3 text-gray-500 pb-16\">\n    <div v-if=\"!validatorData\" class=\"flex flex-1 items-center justify-center w-full h-full\">\n      <transition name=\"fade-in\" appear>\n        <svg class=\"animate-spin h-7 w-7 text-oswapGreen\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n          <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n      </transition>\n    </div>\n\n    <transition name=\"fade-in\" appear>\n      <div v-if=\"validator\" class=\"flex flex-col w-full space-y-3 mt-8 text-gray-600 dark:text-gray-300\">\n        <div class=\"flex flex-col w-full space-y-4\">\n          <div class=\"grid grid-cols-8 gap-3 w-full h-auto ss:mt-3 mb-8 xs:mt-8\">\n            <div class=\"flex w-full col-span-2\">\n              <div class=\"flex flex-col\">\n        \n                <div class=\"flex space-x-2 items-center mb-6\">\n                  <i class=\"las la-sitemap text-2xl dark:text-oswapGreen\"></i>\n                  <p class=\"text-sm uppercase\">{{validator.name}}</p>\n\n                </div>\n\n                <div class=\"flex flex-col space-y-2 text-gray-600 dark:text-gray-300 mb-3\">\n                  <p class=\"ss:text-2xl xs:text-5xl font-extrabold\">{{validator.totalDelegated}}</p>\n                  <p class=\"text-xs font-bold text-gray-500 dark:text-gray-400\">Total Staked</p>\n                </div>\n\n\n                <div class=\"flex flex-col space-y-2 text-gray-600 dark:text-gray-300\">\n                  <p class=\"ss:text-2xl xs:text-5xl font-extrabold\">{{validator.apr}} %</p>\n                  <p class=\"text-xs font-bold text-gray-500 dark:text-gray-400\">Expected Return</p>\n                </div>\n\n              </div>\n            </div>\n            <!-- chart -->\n            <div class=\"flex col-span-6\">\n              <apexchart type=\"line\" class=\"w-full\" height=\"250\" :options=\"chart.chartOptions\" :series=\"chart.series\"></apexchart>\n            </div>\n\n          </div>\n\n          <Divider :title=\"validator.delegators.length + ' Delegators'\" class=\"w-full text-sm py-3\" />\n\n          <div class=\"grid grid-cols-8 gap-3\">\n            <div v-for=\"(delegator, index) in validator.delegators\" :key=\"index\" class=\"flex flex-col rounded-xl space-y-1 st5 rounded-2xl bg-gradient-to-l dark:from-slightDark from-slightGray to-transparent dark:hover:bg-slightDark hover:bg-slightGray border-l border-oswapGreen py-3 px-4 shadow\">\n              <div class=\"flex flex-col space-y-1\">\n                <p class=\"text-xs text-oswapBlue-light\">Address:</p>\n                <p class=\"text-xs text-el\">{{delegator['delegator-address']}}</p>\n                <p class=\"text-xs text-oswapBlue-light\">Amount:</p>\n                <p class=\"text-xs text-el\">{{prettify((delegator.amount/10**18).toFixed(2))}}</p>\n                <p class=\"text-xs text-oswapBlue-light\">Weight:</p>\n                <p class=\"text-xl text-el font-bold\">{{toPercent(loadedData, delegator.amount).toFixed(4)}}%</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\n  import VueApexCharts from \"vue3-apexcharts\";\n\n  import openswap from \"@/shared/openswap.js\";\n  import { ethers } from 'ethers';\n  import Divider from \"@/components/Divider\"\n\n  export default {\n    name: 'Validator',\n    mixins: [openswap],\n    components: {\n      Divider,\n      apexchart: VueApexCharts\n    },\n    data() {\n      return {\n        address: this.$route.params.address,\n        validator: null,\n        loadedData: null,\n        chart: {\n          series: [{\n            name: \"APR\",\n            data: []\n          }],\n          chartOptions: {\n            chart: {\n              height: 250,\n              group: 'sparks',\n              type: 'line',\n              sparkline: {\n                enabled: true\n              },\n              dropShadow: {\n                enabled: true,\n                top: 2,\n                left: 3,\n                blur: 7,\n                opacity: 0.1,\n              },\n            },\n            stroke: {\n              curve: 'smooth'\n            },\n            markers: {\n              size: 0\n            },\n            colors: ['#18d5bb'],\n            dataLabels: {\n              enabled: false\n            },\n            grid: {\n              padding: {\n                top: 10,\n                bottom: 10,\n              }\n            },\n            xaxis: {\n              type: 'epochs',\n              categories: [],\n              crosshairs: {\n                width: 1\n              },\n            },\n            tooltip: {\n              theme: false,\n              custom: ({ series, seriesIndex, dataPointIndex, w }) => {\n                return (\n                  '<div class=\"flex p-3 rounded-md bg-gray-100 dark:bg-slightDark text-xs text-gray-500 dark:text-gray-200 border-l border-oswapGreen\">' +\n                  \"<span>\" + \"Epoch \" + w.globals.categoryLabels[dataPointIndex] + \": \" + (series[seriesIndex][dataPointIndex] * 100 + \"%\") + \"</span>\" +\n                  \"</div>\"\n                );\n              }\n            }\n          }\n        }\n      }\n    },\n    async mounted() {\n      await this.getValidatorData();\n    },\n    methods: {\n      prettify: function(number){\n        return ethers.utils.commify(number)\n      },\n      formatToMillion(string) {\n        let parsed = string.toLocaleString('fullwide', { useGrouping: false });\n        return ethers.utils.commify(parsed)\n                           .match(/^(\\d{1,3})?[.,]?(\\d{1,3})?[.,]?(\\d{1,3})?[.]?(\\d{1,2})/g)[0];\n      },\n      toPercent(data, amount) {\n        let total = data.result['total-delegation']\n        let value = amount * 100 / total\n        return value\n      },\n      getValidatorData: async function(){\n              const requestOptions = {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          \"jsonrpc\": \"2.0\",\n          \"id\": 1,\n          \"method\": \"hmyv2_getValidatorInformation\",\n          \"params\": [\n              this.address\n          ]\n        }),\n      };\n\n      const response = await fetch(\"https://harmony-0-rpc.gateway.pokt.network\", requestOptions);\n      this.loadedData = await response.json();\n\n      this.validator = {\n        name: this.loadedData.result.validator.name,\n         totalDelegated: this.prettify((this.loadedData.result['total-delegation']/10**18).toFixed(2)),\n        delegators: this.loadedData.result.validator.delegations\n                    .filter(d => d.amount > 0)\n                    .sort(function (a, b) { return a.amount - b.amount })\n                    .reverse(),\n        apr: (this.loadedData.result.lifetime.apr * 100).toFixed(2),\n        epochs: {\n          id: this.loadedData.result.lifetime['epoch-apr'].map(i => i.epoch),\n          apr: this.loadedData.result.lifetime['epoch-apr'].map(a => parseFloat(a.apr).toFixed(4))\n        }\n      }\n\n      this.chart.series[0].data = this.validator.epochs.apr;\n      this.chart.chartOptions.xaxis.categories = this.validator.epochs.id;\n      }\n    }\n  }\n</script>","import { render } from \"./Validator.vue?vue&type=template&id=57d63bc8\"\nimport script from \"./Validator.vue?vue&type=script&lang=js\"\nexport * from \"./Validator.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/alex/dev/openswap-v2-app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n"],"sourceRoot":""}